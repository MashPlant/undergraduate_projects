0. 题目描述
   
   模拟祖玛游戏的运行(规则没有什么特别之处)。需要在序列中插入/删除元素。

1. 所使用数据结构与算法的构思、原理和实现要点

    维护序列可以使用平衡树，时间复杂度比块状链表更加优秀，但是由于常数的原因(尤其是常用的splay常数不小)，虽然能通过此题，但是未必能比块状链表快。

    因此我采用了我认知范围内常数最小的平衡树：B树，来解决这道题目。只需要在原有的B树基础上维护每棵子树的大小，稍微修改一下寻找插入位置的方式即可。经过实验，分支因子(采用算法导论的定义)为32的B树效果最好。

    具体操作时，每次插入一个元素后寻找其前后两个元素，共五个来考虑。如果需要删除三个或更多的元素，则在删除的范围内再向前向后各寻找两个元素，共四个元素，如果仍然要删除重复此过程即可。

    值得注意的是，为了达到更高的效率我还应用了循环展开之类的技术来减小常数。事实上也只有B树可以做这种优化，对于二叉树而言并不存在可以展开的循环，块状链表大概也不行。
    
2. 完成过程中遇到的问题，排除问题的主要过程、使用的方法和技巧，以及参考资料
    
    没有遇到问题。

    参考了算法导论上B树的实现，不过那是很久以前写的板子了。
   
3. 时间和空间复杂度的估算
   
   时间复杂度$O(nlgn)$

   额外空间$O(n)$

4. 实测效果

    编写这篇report时在PA上时间排名第一。

    之前写了一份splay的代码，跑的不算快。之后还写了一份红黑树的代码，速度在B树和splay之间，完全符合我对这几种平衡树的常数的认知。
